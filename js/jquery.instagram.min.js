!function(a){a.fn.instagram=function(n){function e(n){var e=n.images.thumbnail.url;"low_resolution"==o.image_size?e=n.images.low_resolution.url:"thumbnail"==o.image_size?e=n.images.thumbnail.url:"standard_resolution"==o.image_size&&(e=n.images.standard_resolution.url);var l=a("<img>").addClass("instagram-image").attr("src",e);return o.photoLink&&(l=a("<a>").attr("target","_blank").attr("href",n.link).append(l)),a("<div>").addClass("instagram-placeholder").attr("id",n.id).append(l)}function l(){return a("<div>").addClass("instagram-placeholder").attr("id","empty").append(a("<p>").html("No photos for this query"))}function t(){var n=s,e={};return null!=o.next_url?o.next_url:(null!=o.hash?n+="/tags/"+o.hash+"/media/recent":null!=o.search?(n+="/media/search",e.lat=o.search.lat,e.lng=o.search.lng,null!=o.search.max_timestamp&&(e.max_timestamp=o.search.max_timestamp),null!=o.search.min_timestamp&&(e.min_timestamp=o.search.min_timestamp),null!=o.search.distance&&(e.distance=o.search.distance)):n+=null!=o.userId?"/users/"+o.userId+"/media/recent":null!=o.locationId?"/locations/"+o.locationId+"/media/recent":"/media/popular",null!=o.accessToken&&(e.access_token=o.accessToken),null!=o.clientId&&(e.client_id=o.clientId),null!=o.minId&&(e.min_id=o.minId),null!=o.maxId&&(e.max_id=o.maxId),null!=o.show&&(e.count=o.show),n+="?"+a.param(e))}var i=this,s="https://api.instagram.com/v1",o={hash:null,userId:null,locationId:null,search:null,accessToken:null,clientId:null,show:null,onLoad:null,onComplete:null,maxId:null,minId:null,next_url:null,image_size:null,photoLink:!0};return n&&a.extend(o,n),null!=o.onLoad&&"function"==typeof o.onLoad&&o.onLoad(),a.ajax({type:"GET",dataType:"jsonp",cache:!1,url:t(),success:function(a){var n="undefined"!=typeof a.data?a.data.length:0,t=null!=o.show&&o.show<n?o.show:n;if(t>0)for(var s=0;t>s;s++)i.append(e(a.data[s]));else i.append(l());null!=o.onComplete&&"function"==typeof o.onComplete&&o.onComplete(a.data,a)}}),this}}(jQuery);