!function(e){function t(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return t?t[1]:!1}var n,o={},r={init:function(r){return n=this,o={token:!1,query_param:"query"},r&&e.extend(o,r),o.token&&""!=o.query_param?(console.log("Token: "+o.token),console.log("Query: "+t(o.query_param)),e.getJSON("http://tapirgo.com/api/1/search.json?token="+o.token+"&query="+t(o.query_param)+"&callback=?",function(t){o.complete&&o.complete(),e.each(t,function(e,t){n.append('<li class="result"><a href="'+t.link+'">'+t.title+"</a></li>")})}),this):this}};e.fn.tapir=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.tapir"),void 0):r.init.apply(this,arguments)}}(jQuery);